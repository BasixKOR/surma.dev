<!doctype html>
<style>
  body {
    display: flex;
    flex-direction: column;
  }
  textarea {
    height: 200px;
    font-family: monospace;
  }
  canvas {
    border: 1px solid black;
    margin: 0 auto;
  }
</style>
<canvas width=800 height=600></canvas>
<textarea id="html"></textarea>
<textarea id="css"></textarea>
<button>Render</button>
<script src="https://cdn.rawgit.com/systemjs/systemjs/fa9e7b18/dist/system-production.js"></script>
<script src="node.js"></script>
<script src="html_parser.js"></script>
<script src="engine.js"></script>
<script>
  System.import('./engine.js').then(Engine => {
    const canvas = document.querySelector('canvas');
    const context = canvas.getContext('2d');
    const markup = document.querySelector('#html');
    markup.value =
`<html>
  <body>
    <header>
      <h1>Ohai</h1>
      <h2>I am Web</h2>
    </header>
    <main>
      <h1>Article</h1>
      <p>Lorem ipsum?</p>
    </main>
  </body>
</html>`;
    const styles = document.querySelector('#css');
    styles.value =
`* {
  display: block;
  color: inherit;
}
html {
  background-color: blue;
}
body {
  background-color: red;
  color: white;
}
header {
  color: blue;
}
header h1 {
  color: red;
}
main {
  background-color: green;
}
main h1 {
  background-color: yellow;
}`;
    document.querySelector('button').addEventListener('click', _ => Engine.render(context, markup.value, styles.value));
  });
</script>
